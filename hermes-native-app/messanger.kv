#:import SlideTransition kivy.uix.screenmanager.SlideTransition

<MainWindow>:
	cols: 2
	rows: 2
	#rows_mimimum: {0:100, 1:300}
	#cols_minimum: {0:200, 1:400}
	ListView:
		id: channel_list
		size_hint_x: None #0.2
		size_hint_y: 0.9
		width: 200
		adapter: root.saved_channels_list_adapter

	ScreenManager:
		id: screen_controls
		size_hint_x: 0.8
		size_hint_y: 0.9
		transistion: SlideTransition
		SettingScreen:
		MenuScreen:
		
	BoxLayout:
		id: general_controls
		size_hint_x: None #0.2
		size_hint_y: None #0.1
		width: 200
		height: 60
		Button:
			id: swipe_left
			text: 'left'
			on_press: root.swipe_transition('left')
			
		Button:
			id: swipe_right
			text: 'right'
			on_press: root.swipe_transition('right')
	BoxLayout:
		id: input_controls
		orientation: 'vertical'
		size_hint_x: 0.8
		size_hint_y: None #0.1
		height: 60
		GridLayout:
			size_hint_y: 0.4
			cols: 5
			Button:
				id: join
				text: 'join'
				size_hint_x: None
				width: 100
				on_press: root.join_channel()
			Button:
				id: leave
				text: 'leave'
				size_hint_x: None
				width: 100
				on_press: root.leave_channel()
			Button:
				id: invite
				text: 'invite'
				size_hint_x: None
				width: 100
			Button:
				id: create
				text: 'create'
				size_hint_x: None
				width: 100
				on_press: root.new_channel()
			Button:
				id: bottom_banner
				size_hint_x: 1.0
		BoxLayout:
			size_hint_y: 0.6
			TextInput:
				id: text_entry
				size_hint_x: 0.9
				font_size: 22
				text: "type something here..."
			Button:
				size_hint_x: None #0.1
				width: 50
				id: send
				text: 'send'
				on_press: root.send_message()


<ChannelScreen>:
	BoxLayout:
		name: root.name
		orientation: 'vertical'
		BoxLayout:
			id: chat_info
			orientation: 'horizontal'
			size_hint_y: None #0.1
			height: 50
			Button:
				id: top_left_banner
			Button:
				id: channel_name
				text: root.name
				size_hint_x: None
				width: 150
			Button:
				id: channel_settings
				text: 'channel settings'
				size_hint_x: None
				width: 150
			Button:
				id: user_list
				text: 'user list'
				size_hint_x: None
				width: 150
			Button:
				id:top_right_banner
		ListView:
			id: chat_log
			adapter: root.message_list_adapter
			size_hint_y: 0.9

<SettingScreen>:
	name: 'setting'
	orientation: 'vertical'
	Button:
		text: 'settings'
		on_release: app.open_settings()

<MenuScreen>:
	name: 'menu'
	Label:
		text: 'menu'
